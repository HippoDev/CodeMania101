package com.codemania.dongoku;

import java.util.Arrays;

public class Solve {

	public static void main(String[] args) {
//		int[] input = { 6827,38388,35694,49270,8932,35523,47400,41160,4309,20545,58457,29189,47448,61265,28826,44931,21022,58088,50757,6148,24740,1456,13509,14655,42004,37570,59173,22960,37094,12848,21748,58527,25452,18619,61202,54194,32149,42394,45797,24229,4600,59858,17176,14748,10963,51314,21584,12989,60910,14673,31270,24404,36155,55305,4630,27268,21216,31344,42860,18524,31338,47238,19238,39668,33208,56046,34614,60783,53357,31224,21151,14211,56333,29761,20713,37411,46693,41101,11102,23062,49307,57894,52976,61839,9538,44534,45273,54508,27895,59189,14241,38376,34857,2632,30837,9220,43128,56590,51208,8207,8511,20104,48162,33253,56092,20931,27688,22624,14052,9007,64897,10661,28322,47944,28316,23236,19571,33570,8154,1245,13346,46984,20623,36585,29703,30705,201,63141 };
//		long target = 43596671549488l;
		
		int[] input = { 
				64943,21103,22039,37488,57354,10701,50058,15938,64178,20220,52250,56067,28925,20787,38380,678,26766,49866,16428,51795,12642,46665,60887,17660,39651,40464,17270,2665,55976,18077,29459,23127,33052,50370,61418,13303,9739,53003,31968,58986,13869,20728,12805,5056,59397,19481,29547,52069,18104,21310,41789,400,22024,6948,15999,51271,52438,23683,59653,60172,9538,50559,63664,54997,35220,19196,24016,16562,58182,42556,36744,31162,42774,41232,11864,14399,53438,15869,29877,25377,22599,1799,24111,1208,10841,34919,7079,18917,104,49568,4966,3700,50006,11926,56326,4814,32217,21554,1775,540,43787,42816,33141,62768,55278,32425,52657,63630,20025,55215,44624,55845,40404,13743,58951,19262,32981,647,8767,51771,53801,15559,2482,12810,54497,60585,23841,13673,9976,20739,51982,12383,49536,6652,3237,41987,13912,30476,13584,61713,52711,481,50389,8492,43802,30642,56380,35406,36963,29390,51663,47127,38305,42501,17586,10374,48489,24148,36821,5223,29810,48005,62771,64354,31809,60446,3020,32869,58443,23564,7714,33742,24596,9661,40189,2029,31402,14951,54750,12132,28711,10061,30831,56767,3653,32653,27226,64037,55739,36163,59591,46606,51784,46799,38202,47464,58127,29531,41146,32378,44871,20458,58098,46016,40449,12347,56924,23536,1131,47525,49932,45536,39948,5656,2878,40643,54496,54308,53838,31120,43072,3995,46972,52459,61503,58234,21978,7158,14805,54962,1935,26658,19700,37452,31395,1351,55449,47278,56784,1397,19351,12552,57870,50695,10111,34072,34333,28811,65331,16103,23516,12564,35334,1793,566,31762,30411,8803,24812,12908,31516,26705,27106,30575,39224,1193,16652,24194,18733,28483,58305,32917,21567,42502,46790,53168,23926,39114,10464,21583,47968,47548,44348,59417,6256,43212,10872,53281,39064,8217,59476,16023,48342,51362,24143,47802,64126,42340,8379,3177,36369,41768,50114,24055,4198,5615,
				40614,32383,1030,23389,10147,36577,33551,18000,12693,36009,36915,13667,17926,44404,61923,56901,4785,57604,4319,57146,48754,62038,10491,40283,49138,14470,29951,18788,16856,58262,21968,38749,59984,38606,5778,63690,23645,48625,62478,48319,61855,45817,40620,20188,44623,13876,64358,56223,59588,31847,44201,41815,22998,26002,19241,40799,24557,38783,2668,42593,42788,48611,23285,4382,22600,38150,57208,4501,37070,30192,42621,44787,12149,9262,56466,24554,48675,17921,32479,19482,56966,48367,42045,5565,12121,52616,7896,57679,50819,16045,6409,32328,61740,16338,32724,60925,53284,52520,265,47004,25983,46942,35804,59560,29884,53269,16495,27093,14496,24402,46676,27375,17607,36679,14849,37469,42891,18294,48847,54236,16733,63004,35185,13466,48343,64218,65419,58709,29921,29466,5727,29597,43776,2646,50921,53539,32667,39001,35673,41097,56681,63304,28615,52073,62832,12536,55054,44889,62465,57688,25652,16636,33507,32284,11333,47844,8044,55602,5592,2036,7130,40834,5499,44120,13088,27887,60322,10283,60865,46940,41606,16554,30061,48612,35651,63555,60090,35880,13103,45562,65187,20200,48411,39951,62759,31663,38547,20744,62747,56711,55702,37276,28459,36276,10976,36906,46873,39682,51615,60440,2928,64711,5171,61383,43716,1616,19973,38173,35839,47547,27156,40015,6934,38763,53956,57017,569,718,29520,57834,8118,59375,48573,7264,52661,25042,5791,8201,63116,32193,39784,24939,20632,60603,22818,12991,9799,44088,32390,3738,43966,40152,12534,31631,44477,50247,40758,47072,30873,32224,51198,20282,6047,45853,3850,57707,8600,14087,22624,12002,62277,51960,17087,25727,28436,20073,64846,32482,1485,5229,22826,16921,39733,1327,47487,45657,4911,44189,58353,1818,43486,24160,302,58537,36949,13311,6212,8717,58408,1682,22310,54951,35012,49125,12175,40228,19104,15405,12269,17833,33653,9200,48093,62544,
				49040,53818,11435,27944,52473,5457,53465,23030,1042,16834,37047,32906,44183,57000,22134,7988,30103,9183,22561,54280,14030,19272,32068,7359,25169,12638,48248,3103,43587,55148,33916,3157,14343,35811,19137,12874,56359,12668,55008,58049,29674,31769,8956,32403,6508,6372,18035,20241,32929,36087,59440,20775,55300,57927,19688,40517,44243,24103,14776,45564,31327,53248,42932,8661,2511,61731,19052,56965,58719,21442,478,42845,31282,36455,31754,56199,31607,28085,3923,44657,31245,58519,33549,23425,26392,35209,45132,12281,51530,17334,61511,327,48156,54536,12746,45055,39446,54508,51742,45487,21267,15662,59651,6094,2473,10196,19983,28655,51183,44931,24170,11300,63476,58369,50842,18201,47085,15572,20245,2800,58225,1200,62077,61302,15377,34470,34499,60028,5967,34555,53547,60396,37000,63907,9128,52754,24347,55166,1401,5867,46736,30479,13957,3015,7867,13775,21813,62580,40335,65000,63791,54992,20276,28584,10036,28734,37337,53584,8043,34974,53186,52639,62851,15071,20471,30599,35762,23038,59267,4334,23371,26199,1856,40316,24582,18878,49264,55709,24483,48241,13967,27067,18390,10411,24948,41416,6011,42760,19518,7121,24116,33511,7933,48391,30113,4644,40534,62679,5944,60104,16873,51871,55481,42504,57340,49032,51794,17443,42980,3933,34927,26136,59531,49999,64098,8146,41015,60273,24183,6365,1101,61199,16341,54483,43052,62044,57008,10550,28559,16787,37482,5121,4170,57346,25975,17875,61971,62839,3479,61104,55803,419,51110,27148,4383,43385,2622,2832,33458,10001,47216,58854,5996,1637,29598,51876,6411,15049,43893,12744,49131,18497,64099,59401,40603,13692,24711,7921,22044,46600,28054,41708,42684,35493,41994,46289,44093,43173,3323,15529,44347,13461,33269,15513,59257,61887,4472,30221,34205,6734,28580,3234,22554,18433,6467,7434,35405,43534,33898,54799,37174,7419,29101,58137,1104,38929,
				45470,27762,52323,60138,60464,34871,46624,35953,42610,18879,51629,32846,14627,62157,61138,42263,44698,15884,40884,62821,45224,11283,46672,18437,13739,50705,7111,5153,53582,32150,20757,55223,56708,53895,26380,34481,62177,31198,55139,30215,11751,47482,62520,6260,12673,8010,59688,42099,49328,18904,54789,34956,21404,58025,21138,19738,49046,16466,8861,14145,58514,31468,15153,25966,26197,4879,39043,57680,63502,28409,192,31110,16975,64987,58095,56664,25845,17590,633,18442,3210,36448,3060,8200,19362,25436,29149,53065,31895,52090,63146,22840,51323,61580,4410,3592,15619,34195,39397,58023,554,10291,5095,56820,44007,11152,61046,44968,38532,34449,60686,58384,65367,11845,13368,63473,15091,12087,61655,4999,43751,24119,38228,64139,38834,46431,62798,12185,47106,19143,53850,58065,57010,40008,16374,35246,18001,25060,20354,48397,20769,8551,49786,53109,120,28915,10931,14202,918,62200,36940,27467,60161,59172,10079,50243,18254,6348,55448,2041,4874,31093,22001,22019,2418,34071,61811,54200,48298,52221,38850,39301,49771,49132,57364,34823,8696,8012,64773,32715,11939,37758,34855,35789,1182,18322,12782,46482,27046,61933,42794,28321,56789,20569,50669,60170,9210,29384,58140,14480,30724,49726,55346,49326,6314,20903,19118,32812,31117,60646,51850,53900,20097,48421,7847,17339,42517,9387,15653,32470,23631,29911,1666,47051,27506,51277,62595,37554,49688,13043,15781,1894,52816,10460,17020,7698,65265,8104,14182,45031,55807,7292,45266,37621,28934,37800,11206,64349,38234,24673,23428,45531,259,24662,44486,63796,55822,65211,2127,13285,46299,33658,15353,28523,42464,57666,2434,18163,5767,39341,60243,61956,10973,37370,26230,33156,25950,58362,35871,61001,61461,3255,26762,63341,60745,38201,57916,48227,38777,52255,40634,48410,28750,55879,24434,56033,344,893,17508,42752,18170,57727,27579,55710,161,
				55370,46243,4336,41371,23189,44076,22695,37311,19240,31700,32974,53825,27145,26387,31736,3461,39168,53231,46809,57797,25754,34204,1174,61905,6269,49423,36518,44901,21886,13646,61194,58061,24130,8440,51117,39217,28722,55851,22950,43234,57081,58688,14072,23356,13731,40193,11844,40373,27136,9674,35996,64771,34011,15873,17828,4550,2650,737,29842,64606,18796,27877,62890,56832,3871,12265,44864,20693,47711,29457,17239,63236,45207,47858,37589,6732,65299,27332,20779,32069,64481,28474,47012,39240,6990,900,41874,7422,51573,8870,6108,32141,51603,58017,9471,45133,33372,59937,12053,20897,43564,21129,61352,54447,18014,19743,25137,11144,52996,29033,8506,48235,38067,599,11320,53093,5814,15256,55419,927,23839,24478,53150,37374,4481,9697,47988,30039,19778,5686,47786,37408,1572,63893,56230,3682,681,41576,32625,34641,53724,44467,30471,7792,43744,56396,28110,32367,7604,15495,23227,38959,43186,9854,34041,30053,59968,8380,53060,15830,3677,852,5291,18410,50580,17959,47349,55350,7800,10156,19393,51060,10497,12850,49976,28589,4750,47397,60369,1965,34873,63742,23134,36136,40303,30164,29324,59615,35695,47869,29826,25050,5037,57628,30725,62560,11865,35633,48514,43344,3389,24222,36032,60643,50067,13127,59408,40757,13238,14317,30814,57676,22797,23213,23231,63514,36983,6641,26018,16540,17058,6429,62270,8110,12470,32239,11162,7433,20399,29669,6488,36333,13248,30825,64229,43061,23268,41667,33980,27317,21020,56404,18393,8698,26203,55653,4304,27080,2581,54352,57881,61508,43044,28926,8566,11058,3343,42616,62589,56165,11447,12761,27990,4540,53333,29133,56094,37248,23334,9660,13041,29589,57643,39311,32685,5380,46245,44369,14082,64909,23078,20915,5270,36323,10345,6863,11733,53906,18723,26642,40528,41392,13282,42776,18541,11317,30027,17183,34980,18017,45768,24441,40409,3169,9361,18282,6828,
				30316,3715,21956,41182,59350,8965,11515,52573,54917,43641,7603,42470,3823,39014,31519,19259,38188,16512,50831,20059,29106,42770,28148,52301,23080,9345,23416,50039,40638,20300,26594,41346,41704,15707,22516,53443,52483,39559,39868,18075,61397,15280,40759,15867,24327,32406,64416,12839,32267,31479,48414,62159,26270,10243,48377,22589,25776,22292,47430,53538,63011,50501,11322,49539,18903,28363,33853,3349,22970,38535,55069,53204,22866,46343,12928,29311,5472,62185,25948,39946,37729,17670,58863,37321,31206,3050,53250,54597,36467,42688,33685,46738,59115,27907,12310,52811,21848,38277,26660,55423,2994,30961,16029,52625,30124,3513,42311,39627,25524,40432,8597,39503,12871,28437,49943,47846,4269,43533,43819,5318,50937,7568,46882,9180,63802,11987,23689,52331,30829,39007,37234,30527,63625,63351,63090,27994,60312,38422,7990,24639,8304,56213,43472,41441,9037,48163,14866,37095,29703,60291,59474,2767,22314,5181,17390,35661,57648,43463,50446,62265,32113,20580,2793,62750,12076,47003,53911,8317,22302,408,45565,45834,49061,56430,15053,15916,56108,27757,3594,37857,4597,6884,52002,26768,24006,39441,50873,6677,44268,19624,11181,7815,65289,29176,36838,19027,13419,45543,10336,37391,17352,4783,17951,25267,29206,28428,31403,49742,61424,32355,18742,17515,37290,21663,35700,58174,43960,4182,50211,39346,35043,31457,10115,57843,7561,39939,21324,18313,13802,55669,28972,32243,32783,55087,2574,4091,13836,54552,39491,34583,56044,7187,37116,63121,48631,47610,57738,30771,12165,9421,35036,45173,30949,43207,50376,47347,22381,60476,20791,23184,2898,57505,54533,50506,39218,17632,32255,38780,9284,10353,44781,31016,17022,18311,48874,36242,7366,55548,10084,27362,575,24118,20594,39717,48483,28260,38638,27388,39025,59320,684,21698,50740,17794,40273,12355,29676,50324,43989,15144,35388,53798,58001,1719,
				63478,28574,19630,43087,55025,17156,17063,53762,57085,3348,11427,24696,33996,52791,55010,18521,59386,43731,44237,46585,38912,41976,27342,7658,23401,19974,5441,44116,59823,44800,1701,5273,36345,32430,49123,61205,8115,28645,26512,41722,60262,55722,24632,2130,9109,59422,13771,5469,38056,26357,18099,17543,18484,19285,4309,9930,53741,11824,691,9848,65351,20552,29554,19863,53907,37387,23432,56938,9265,51811,29961,13712,35486,1178,24041,43926,13650,19789,54872,31238,56034,46705,18748,3162,33238,31497,19313,21932,11094,38758,48335,24404,5750,7932,28429,2870,19108,31173,21680,39184,48790,26826,50932,21510,3812,26994,29127,7060,58281,25067,26550,31628,16171,63870,50803,62573,52448,50459,10293,45559,19621,14552,50647,28353,12687,35663,31191,24184,28116,6177,3303,17793,12117,15847,42166,1817,1509,50810,25207,27875,41741,43551,47793,51045,49188,42042,41011,29438,51262,1266,19589,59067,21961,32379,7625,31996,54168,45603,35950,55002,41699,50363,10926,49974,24748,33644,44057,35270,48386,27175,52306,58411,25292,41589,2845,17207,50221,43712,19387,10244,49276,37792,13296,28017,48746,26651,26294,51512,18113,52103,390,36711,43722,24172,50503,49261,50062,1915,48821,22739,58555,11611,6295,63248,48407,13430,39763,43700,64717,7979,29853,42496,6187,33674,32507,28651
		};
		long target = 35717710125133l;
		
		int[] output = new int[3];
		long result;
		
		
		// Test by change solve 1 2 3 
		long startTime = System.currentTimeMillis();
		result = solve1(input, target, output);
		long stopTime = System.currentTimeMillis();
		
		System.out.println("inputSize:"+input.length);
		System.out.println("   target:"+target);
		System.out.println("   result:"+result);
		System.out.println("different:"+Math.abs(result - target));
		System.out.println("  output1:"+input[output[0]]);
		System.out.println("  output2:"+input[output[1]]);
		System.out.println("  output3:"+input[output[2]]);
		System.out.println("usageTime:"+(stopTime-startTime)/1000.0);
	}
	
	public static long solve1(int[] input, long target, int[] output){
		long result = 0l;
		
		for (int i=0; i<input.length-2; i++){
			for (int j=i+1; j<input.length-1; j++){
				for (int k=j+1; k<input.length; k++){
					long tmp = (long)input[i] * (long)input[j] * (long)input[k];
					if (Math.abs(tmp - target) < Math.abs(result - target)){
						result = tmp;
						output[0] = i;
						output[1] = j;
						output[2] = k;
					}
				}
			}
		}
		
		return result;
	}
	
	public static long solve2(int[] input, long target, int[] output){
		long result = 0l;
		
		Arrays.sort(input);
		
		for (int i=0; i<input.length-2; i++){
			for (int j=i+1; j<input.length-1; j++){
				long tmp = 9223372036854775807l;
				for (int k=input.length-1; k>j & tmp>target; k--){
					tmp = (long)input[i] * (long)input[j] * (long)input[k];
					if (Math.abs(tmp - target) < Math.abs(result - target)){
						result = tmp;
						output[0] = i;
						output[1] = j;
						output[2] = k;
					}
				}
			}
		}
		
		return result;
	}
	
	public static long solve3(int[] input, long target, int[] output){
		long result = 0l;
		
		Arrays.sort(input);
		
		for (int i=0; i<input.length-2; i++){
			int k=input.length-1;
			
			for (int j=i+1; j<input.length-1 & j<k; j++){
				long tmp = 9223372036854775807l;
				for (; k>j & tmp>target; k--){
					tmp = (long)input[i] * (long)input[j] * (long)input[k];
					
					if (Math.abs(tmp - target) < Math.abs(result - target)){
						result = tmp;
						output[0] = i;
						output[1] = j;
						output[2] = k;
					}
				}
				k++;
			}
		}
		
		return result;
	}

}
